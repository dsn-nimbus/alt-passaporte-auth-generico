!function(o){"use strict";o.module("alt.passaporte-auth-generico",["emd.ng-xtorage"]).constant("CHAVE_USUARIO","pass_usuario_auth").constant("CHAVE_INFORMACOES","info").constant("PASSAPORTE_API_AUTHORIZATION_BASE","https://passaporte2-dev.alterdata.com.br/passaporte-rest-api/rest/authorization").config(["$httpProvider",function(o){delete o.defaults.headers.common["X-Requested-With"]}]).provider("PaginaUsuarioLogado",function(){this.url="/",this.$get=function(){return this.url}}).service("LeitorUrl",["$location",function(o){this.getValorPor=function(t){return o.search()[t]}}]).service("PassaporteService",["$http","PASSAPORTE_API_AUTHORIZATION_BASE",function(o,t){this.pegaInformacoesPorToken=function(r){return o.get(t+"?token="+r).then(function(o){return o.data})}}]).service("UsuarioInfo",["$window","$log","$xtorage","LeitorUrl","PassaporteService","CHAVE_USUARIO","CHAVE_INFORMACOES","PaginaUsuarioLogado",function(o,t,r,e,n,a,i,s){var c=e.getValorPor(i);this.registraInformacoes=function(){n.pegaInformacoesPorToken(c).then(function(t){r.save(a,t),o.location.replace(s)})["catch"](function(r){o.alert("Erro ao buscar as informações pelo token (passaporte)."),t.error(r)})}}]).controller("AuthCtrl",["UsuarioInfo",function(o){!function(){o.registraInformacoes()}()}])}(window.angular);